


server:
  port: 8080
spring:
  application:
    name: "accounts"
  profiles:
    active: "prod"
  datasource:
    url: jdbc:h2:mem:./data/testdb
    driverClassName: org.h2.Driver
    username: sa
    password: ''
  h2:
   console:
    enabled: true
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
     ddl-auto: update
    show-sql: true


  config:
    import: "optional:configserver:http://localhost:8071/"


  rabbitmq:
    host: "localhost"
    port: 5672
    username: "guest"
    password: "guest"

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint: # enabling shutdown endpoint to gracefully shutdown the application using shutdown actuator path to test de-registering from eureka server
    shutdown:
      access: unrestricted
  info:   # enabling info endpoint
    env:
      enabled: true

# testing the refresh configurations at runtime using refresh actuator path, the same is in all microservices



eureka:   # for connecting to eureka server
  instance:
    preferIpAddress: true
  client:
    fetchRegistry: true
    registerWithEureka: true
    serviceUrl:
      defaultZone: http://localhost:8070/eureka/

info:  # info endpoint data at /actuator/info (this path is unabled so that's why we will make some changes in the section management related to actuator), it will be visible in eureka server that's why we are using it
  app:
    name: "accounts"
    description: "myBank Accounts Application"
    version: "3.0.0"


springdoc:
  swagger-ui:
    path: /docs

logging:  # enable logs generated by logging framework with type(level) Debug
  level:
    com:
      mybank:
        accounts: DEBUG